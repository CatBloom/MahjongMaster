<form [formGroup]="formGroup" autocomplete="off" class="formGroup">
  <h2>成績登録</h2>
  <div class="result">
    <ng-container *ngIf="players$ | async as players">
      <mat-label>1位</mat-label>
      <div class="result-grid">
        <div class="result-grid__name">
          <mat-form-field appearance="outline">
            <mat-label>名前</mat-label>
            <mat-select formControlName="playerName1" [errorStateMatcher]="matcher">
              <mat-option *ngFor="let player of players" [value]="player.id">
                {{ player.playerName }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="result-grid__point">
          <mat-form-field appearance="outline">
            <mat-label>点数</mat-label>
            <input
              matInput
              maxlength="6"
              formControlName="playerPoint1"
              [errorStateMatcher]="matcher"
              [appReplace]="playerPoint1"
            />
          </mat-form-field>
        </div>
        <div class="result-grid__calc-point">
          <mat-form-field appearance="outline">
            <input matInput readonly formControlName="calcPoint1" [errorStateMatcher]="matcher" />
          </mat-form-field>
        </div>
      </div>
      <mat-label>2位</mat-label>
      <div class="result-grid">
        <div class="result-grid__name">
          <mat-form-field appearance="outline">
            <mat-label>名前</mat-label>
            <mat-select formControlName="playerName2" [errorStateMatcher]="matcher">
              <mat-option *ngFor="let player of players" [value]="player.id">
                {{ player.playerName }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="result-grid__point">
          <mat-form-field appearance="outline">
            <mat-label>点数</mat-label>
            <input
              matInput
              maxlength="6"
              formControlName="playerPoint2"
              [errorStateMatcher]="matcher"
              [appReplace]="playerPoint2"
            />
          </mat-form-field>
        </div>
        <div class="result-grid__calc-point">
          <mat-form-field appearance="outline">
            <input matInput readonly formControlName="calcPoint2" [errorStateMatcher]="matcher" />
          </mat-form-field>
        </div>
      </div>
      <mat-label>3位</mat-label>
      <div class="result-grid">
        <div class="result-grid__name">
          <mat-form-field appearance="outline">
            <mat-label>名前</mat-label>
            <mat-select formControlName="playerName3" [errorStateMatcher]="matcher">
              <mat-option *ngFor="let player of players" [value]="player.id">
                {{ player.playerName }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="result-grid__point">
          <mat-form-field appearance="outline">
            <mat-label>点数</mat-label>
            <input
              matInput
              maxlength="6"
              formControlName="playerPoint3"
              [errorStateMatcher]="matcher"
              [appReplace]="playerPoint3"
            />
          </mat-form-field>
        </div>
        <div class="result-grid__calc-point">
          <mat-form-field appearance="outline">
            <input matInput readonly formControlName="calcPoint3" [errorStateMatcher]="matcher" />
          </mat-form-field>
        </div>
      </div>
      <mat-label>4位</mat-label>
      <div class="result-grid">
        <div class="result-grid__name">
          <mat-form-field appearance="outline">
            <mat-label>名前</mat-label>
            <mat-select formControlName="playerName4" [errorStateMatcher]="matcher">
              <mat-option *ngFor="let player of players" [value]="player.id">
                {{ player.playerName }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="result-grid__point">
          <mat-form-field appearance="outline">
            <mat-label>点数</mat-label>
            <input
              matInput
              maxlength="6"
              formControlName="playerPoint4"
              [errorStateMatcher]="matcher"
              [appReplace]="playerPoint4"
            />
          </mat-form-field>
        </div>
        <div class="result-grid__calc-point">
          <mat-form-field appearance="outline">
            <input matInput readonly formControlName="calcPoint4" [errorStateMatcher]="matcher" />
          </mat-form-field>
        </div>
      </div>
    </ng-container>

    <div class="result-buttons">
      <button class="result-buttons__button" mat-stroked-button color="accent">登録</button>
      <button class="result-buttons__button" mat-stroked-button color="warn">リセット</button>
    </div>
  </div>
  <div class="result-table">
    <app-table
      *ngIf="result$ | async as result"
      [columns]="tableColumns"
      [results]="result"
      [clickOption]="'updateResultLink'"
    ></app-table>
  </div>
</form>
